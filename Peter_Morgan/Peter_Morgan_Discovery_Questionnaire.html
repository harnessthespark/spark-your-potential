<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peter Morgan | Discovery Questionnaire | Spark Your Potential</title>
    <meta name="description" content="Discover the extraordinary abilities you think are ordinary. A powerful ability recognition exercise from Harness the Spark.">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Configuration for Shadcn-style Design System -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(214.3 31.8% 91.4%)",
                        input: "hsl(214.3 31.8% 91.4%)",
                        ring: "hsl(262.1 83.3% 57.8%)",
                        background: "hsl(0 0% 100%)",
                        foreground: "hsl(222.2 84% 4.9%)",
                        primary: {
                            DEFAULT: "hsl(262.1 83.3% 57.8%)",
                            foreground: "hsl(210 40% 98%)",
                        },
                        secondary: {
                            DEFAULT: "hsl(210 40% 96.1%)",
                            foreground: "hsl(222.2 47.4% 11.2%)",
                        },
                        muted: {
                            DEFAULT: "hsl(210 40% 96.1%)",
                            foreground: "hsl(215.4 16.3% 46.9%)",
                        },
                        accent: {
                            DEFAULT: "hsl(210 40% 96.1%)",
                            foreground: "hsl(222.2 47.4% 11.2%)",
                        },
                    },
                    borderRadius: {
                        lg: "0.5rem",
                        md: "calc(0.5rem - 2px)",
                        sm: "calc(0.5rem - 4px)",
                    },
                }
            }
        }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: #1e293b;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: transparent;
            overflow: visible;
        }

        .header {
            background: linear-gradient(135deg, #7c3aed 0%, #ec4899 100%);
            color: white;
            padding: 48px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            margin: 24px;
            border-radius: 20px;
            box-shadow: 0 10px 15px -3px rgba(124, 58, 237, 0.3);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at top right, rgba(255,255,255,0.1), transparent);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 12px;
            font-weight: 700;
            letter-spacing: -0.02em;
            position: relative;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            font-weight: 400;
            position: relative;
        }

        .tech-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .section {
            padding: 56px 40px;
            border-bottom: none;
            margin: 24px;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        .section:last-child {
            border-bottom: none;
        }

        .section-title {
            font-size: 2em;
            color: #1e293b;
            margin-bottom: 24px;
            text-align: center;
            font-weight: 700;
            letter-spacing: -0.02em;
            position: relative;
        }

        .section-title .checkmark {
            display: inline-block;
            margin-left: 12px;
            color: #10b981;
            font-size: 0.8em;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
        }

        .section-title .checkmark.visible {
            opacity: 1;
            transform: scale(1);
        }

        .visual-exercise {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 32px 0;
        }

        /* Evidence Collection - 3 column grid with Thread spanning right side */
        [data-section-number="1"] .visual-exercise {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: auto auto;
        }

        /* Projects 1-3 span first row */
        [data-section-number="1"] .evidence-box:nth-child(1),
        [data-section-number="1"] .evidence-box:nth-child(2),
        [data-section-number="1"] .evidence-box:nth-child(3) {
            grid-row: 1;
        }

        /* Projects 4-5 on second row, left side */
        [data-section-number="1"] .evidence-box:nth-child(4),
        [data-section-number="1"] .evidence-box:nth-child(5) {
            grid-row: 2;
        }

        /* The Thread spans right side of second row */
        [data-section-number="1"] .thread-box {
            grid-row: 2;
            grid-column: 3 / 4;
        }

        @media (max-width: 900px) {
            [data-section-number="1"] .visual-exercise {
                grid-template-columns: repeat(2, 1fr);
            }

            [data-section-number="1"] .thread-box {
                grid-column: 1 / -1;
                grid-row: auto;
            }
        }

        @media (max-width: 600px) {
            [data-section-number="1"] .visual-exercise {
                grid-template-columns: 1fr;
            }
        }

        /* What Finds You Section - Enhanced Layout */
        .what-finds-you-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 32px;
        }

        @media (max-width: 768px) {
            .what-finds-you-grid {
                grid-template-columns: 1fr;
            }
        }

        .evidence-box {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 16px;
            padding: 28px;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .evidence-box:hover {
            border-color: #8b5cf6;
            box-shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.1), 0 2px 4px -1px rgba(139, 92, 246, 0.06);
            transform: translateY(-2px);
        }

        .evidence-box:focus-within {
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .evidence-box h3 {
            color: #1e293b;
            margin-bottom: 16px;
            font-weight: 600;
            font-size: 1.1em;
        }

        .evidence-box textarea {
            width: 100%;
            height: 120px;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            resize: vertical;
            font-family: inherit;
            font-size: 0.95em;
            line-height: 1.6;
            transition: all 0.2s;
            background: white;
        }

        .evidence-box textarea:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .evidence-box textarea::placeholder {
            color: #94a3b8;
        }

        .thread-box {
            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
            color: white;
        }

        .thread-box h3 {
            color: white;
        }

        .thread-box textarea {
            background: rgba(255,255,255,0.95);
            border: none;
        }

        /* Instinct Radar Grid */
        .instinct-radar-grid {
            grid-template-columns: repeat(3, 1fr);
        }

        @media (max-width: 900px) {
            .instinct-radar-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .instinct-radar-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Effortless Ability Grid */
        .effortless-ability-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        @media (max-width: 768px) {
            .effortless-ability-grid {
                grid-template-columns: 1fr;
            }
        }

        .instinct-radar {
            width: 300px;
            height: 300px;
            margin: 40px auto;
            position: relative;
            background: radial-gradient(circle, #ecf0f1 0%, #bdc3c7 100%);
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .instinct-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #8b5cf6;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px #8b5cf6;
            animation: pointPulse 2s infinite;
        }

        @keyframes pointPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.3); }
        }

        .instinct-label {
            position: absolute;
            font-size: 0.8em;
            color: #2c3e50;
            font-weight: bold;
            opacity: 0;
            transition: all 0.5s ease;
            white-space: nowrap;
        }

        .radar-line {
            position: absolute;
            width: 50%;
            height: 2px;
            background: #3498db;
            top: 50%;
            left: 50%;
            transform-origin: left centre;
            opacity: 0.3;
        }

        .radar-line:nth-child(1) { transform: rotate(0deg) translateY(-1px); }
        .radar-line:nth-child(2) { transform: rotate(45deg) translateY(-1px); }
        .radar-line:nth-child(3) { transform: rotate(90deg) translateY(-1px); }
        .radar-line:nth-child(4) { transform: rotate(135deg) translateY(-1px); }

        .radar-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            background: #e74c3c;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .transformation-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 32px 0;
            flex-wrap: wrap;
            gap: 16px;
        }

        .transform-box {
            flex: 1;
            min-width: 300px;
            margin: 20px;
            padding: 40px 35px;
            border-radius: 8px;
            text-align: center;
            position: relative;
            transition: all 0.4s ease;
            border: 18px solid;
            border-image-slice: 1;
            box-shadow:
                0 20px 60px rgba(0, 0, 0, 0.3),
                0 0 0 2px rgba(255, 255, 255, 0.1) inset,
                0 0 0 4px rgba(0, 0, 0, 0.2) inset;
        }

        .transform-box::before {
            content: '‚óÜ';
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 32px;
            z-index: 10;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            animation: floatOrnament 3s ease-in-out infinite;
        }

        @keyframes floatOrnament {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        .transform-box::after {
            content: '';
            position: absolute;
            top: 8px;
            left: 8px;
            right: 8px;
            bottom: 8px;
            background:
                linear-gradient(135deg, rgba(255,255,255,0.25) 0%, transparent 30%, rgba(255,255,255,0.15) 70%, transparent 100%),
                linear-gradient(to bottom right, rgba(255,255,255,0.1), transparent);
            border-radius: 4px;
            pointer-events: none;
            z-index: 1;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.1) inset;
        }

        .transform-box:hover {
            transform: translateY(-5px);
            box-shadow:
                0 30px 80px rgba(0, 0, 0, 0.4),
                0 0 0 2px rgba(255, 255, 255, 0.2) inset,
                0 0 0 4px rgba(0, 0, 0, 0.3) inset;
        }

        .before-box {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
            border-image: linear-gradient(135deg, #94a3b8 0%, #cbd5e1 25%, #e2e8f0 50%, #cbd5e1 75%, #94a3b8 100%) 1;
            color: white;
        }

        .before-box::before {
            color: #cbd5e1;
        }

        .after-box {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-image: linear-gradient(135deg, #6ee7b7 0%, #a7f3d0 25%, #d1fae5 50%, #a7f3d0 75%, #6ee7b7 100%) 1;
            color: white;
        }

        .after-box::before {
            color: #a7f3d0;
        }

        .transform-box h3 {
            font-size: 1.8em;
            font-weight: 700;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 4px;
            position: relative;
            z-index: 3;
            text-shadow: 0 3px 12px rgba(0, 0, 0, 0.6);
            font-family: 'Didot', 'Bodoni MT', 'Garamond', serif;
        }

        .arrow {
            font-size: 3em;
            color: #a855f7;
            margin: 0 24px;
            font-weight: 700;
            text-shadow:
                0 0 20px rgba(168, 85, 247, 0.8),
                0 0 40px rgba(168, 85, 247, 0.5);
            animation: arrowPulse 2s ease-in-out infinite;
        }

        @keyframes arrowPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .recognition-summary {
            background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
            color: white;
            padding: 40px;
            border-radius: 24px;
            margin: 32px 0;
            box-shadow: 0 10px 20px -5px rgba(139, 92, 246, 0.3);
        }

        .summary-item {
            margin: 24px 0;
            padding: 20px;
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            border-left: 4px solid rgba(255,255,255,0.6);
            backdrop-filter: blur(10px);
        }

        .summary-item strong {
            display: block;
            margin-bottom: 12px;
            font-size: 1.1em;
            font-weight: 600;
        }

        .summary-item input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            font-size: 1em;
            background: rgba(255,255,255,0.95);
            color: #1e293b;
            font-family: inherit;
            transition: all 0.2s;
        }

        .summary-item input::placeholder {
            color: #64748b;
            opacity: 1;
        }

        .summary-item input:focus {
            outline: none;
            border-color: rgba(255,255,255,0.8);
            background: #ffffff;
        }

        .final-message {
            text-align: center;
            font-size: 1.5em;
            color: #1e293b;
            font-weight: 500;
            margin: 24px;
            padding: 48px 40px;
            background: #ffffff;
            border-radius: 20px;
            border: none;
            letter-spacing: -0.01em;
            line-height: 1.5;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        .mirror-textarea {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            height: 120px;
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            position: relative;
            z-index: 3;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .mirror-textarea:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .mirror-textarea::placeholder {
            color: rgba(255, 255, 255, 0.6) !important;
            opacity: 1 !important;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .transformation-flow {
                flex-direction: column;
            }
            .arrow {
                transform: rotate(90deg);
                margin: 20px 0;
            }
            .instinct-radar {
                width: 250px;
                height: 250px;
            }
        }

        .ai-context-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid #10b981;
        }

        .ai-context-box h4 {
            color: #059669;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        .ai-context-box p {
            color: #065f46;
            font-size: 0.95em;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <script>
        // Security: Check if user is logged in
        const savedUser = localStorage.getItem('syp_user');
        const savedClientEmail = localStorage.getItem('syp_client_email');
        if (!savedUser && !savedClientEmail) {
            window.location.href = '/client-portal.html';
        }
    </script>
    <div class="container">
        <div class="header">
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                <img src="../HTS Icon_trans copy.jpeg" alt="Harness the Spark Logo" style="width: 80px; height: 80px; margin-right: 20px; border-radius: 50%; object-fit: cover;" onerror="this.style.display='none'">
                <div style="text-align: left;">
                    <div style="font-size: 1.8em; font-weight: bold; color: white; margin-bottom: 5px;">Harness the Spark</div>
                    <div style="font-size: 0.9em; opacity: 0.8; color: white;">Ignite Your Natural Abilities</div>
                </div>
            </div>
            <h1>Peter Morgan | Discovery Questionnaire</h1>
            <p>Blended Programme | December 2025</p>
            <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.9;">The extraordinary abilities you think are ordinary</p>
            <div class="tech-badge">üîß Systems Engineer Edition</div>
        </div>

        <!-- Context for Technical Roles -->
        <div class="ai-context-box" style="margin: 24px;">
            <h4>üí° A Note for Technical Minds</h4>
            <p>This questionnaire is usually designed for consultants and coaches, but your technical skills are just as valuable. Think about the <strong>systems you've built</strong>, <strong>problems you've solved</strong>, and <strong>colleagues you've helped</strong>. Your "clients" might be internal teams, end users, or business stakeholders. The patterns that emerge will reveal your unique engineering thread.</p>
        </div>

        <!-- Progress Dots -->
        <div style="text-align: center; margin: 32px 24px; padding: 20px; background: white; border-radius: 16px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);">
            <div id="progressDots" style="display: flex; justify-content: center; align-items: center; gap: 12px;">
                <div class="progress-dot" data-section="1" style="width: 12px; height: 12px; border-radius: 50%; background: #cbd5e1; transition: all 0.3s ease; cursor: pointer;"></div>
                <div class="progress-dot" data-section="2" style="width: 12px; height: 12px; border-radius: 50%; background: #cbd5e1; transition: all 0.3s ease; cursor: pointer;"></div>
                <div class="progress-dot" data-section="3" style="width: 12px; height: 12px; border-radius: 50%; background: #cbd5e1; transition: all 0.3s ease; cursor: pointer;"></div>
                <div class="progress-dot" data-section="4" style="width: 12px; height: 12px; border-radius: 50%; background: #cbd5e1; transition: all 0.3s ease; cursor: pointer;"></div>
                <div class="progress-dot" data-section="5" style="width: 12px; height: 12px; border-radius: 50%; background: #cbd5e1; transition: all 0.3s ease; cursor: pointer;"></div>
            </div>
            <p id="progressText" style="margin-top: 12px; font-size: 0.9em; color: #64748b;">0 of 5 sections completed</p>
        </div>

        <div class="section" data-section-number="1">
            <h2 class="section-title">üîß The Evidence Collection<span class="checkmark">‚úì</span></h2>
            <p style="text-align: center; font-size: 1.1em; margin-bottom: 30px; color: #7f8c8d;">
                Look at your last 5 significant projects or problems you solved. What pattern emerges?
            </p>

            <div class="visual-exercise">
                <div class="evidence-box">
                    <h3>Project/Solution #1</h3>
                    <textarea placeholder="What was the problem? What did you build or fix? What was your unique contribution that made it work?"></textarea>
                </div>
                <div class="evidence-box">
                    <h3>Project/Solution #2</h3>
                    <textarea placeholder="What was the problem? What did you build or fix? What was your unique contribution that made it work?"></textarea>
                </div>
                <div class="evidence-box">
                    <h3>Project/Solution #3</h3>
                    <textarea placeholder="What was the problem? What did you build or fix? What was your unique contribution that made it work?"></textarea>
                </div>
                <div class="evidence-box">
                    <h3>Project/Solution #4</h3>
                    <textarea placeholder="What was the problem? What did you build or fix? What was your unique contribution that made it work?"></textarea>
                </div>
                <div class="evidence-box">
                    <h3>Project/Solution #5</h3>
                    <textarea placeholder="What was the problem? What did you build or fix? What was your unique contribution that made it work?"></textarea>
                </div>
                <div class="evidence-box thread-box">
                    <h3>The Thread</h3>
                    <textarea id="threadText" placeholder="Looking across these projects, what's the common thread? What ability keeps showing up, even when you don't consciously plan it? What do you consistently do that others don't?"></textarea>
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button id="aiPatternBtn" style="
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    border: none;
                    padding: 15px 40px;
                    font-size: 1.1em;
                    border-radius: 25px;
                    cursor: pointer;
                    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                    transition: all 0.3s ease;
                    font-weight: 600;
                ">‚ú® Help Me See Patterns with AI</button>
                <p style="color: #64748b; font-size: 0.9em; margin-top: 10px;">
                    Claude AI will analyse your responses and reveal hidden patterns
                </p>
            </div>

            <div id="aiInsights" style="
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
                border-radius: 20px;
                padding: 30px;
                margin: 20px 0;
                display: none;
                border-left: 5px solid #667eea;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            ">
                <h3 style="color: #667eea; margin-bottom: 20px; font-size: 1.5em;">
                    üîÆ AI Pattern Recognition
                </h3>
                <div id="aiAnalysis" style="
                    color: #1e293b;
                    line-height: 1.8;
                    font-size: 1.05em;
                "></div>
            </div>
        </div>

        <div class="section" data-section-number="2">
            <h2 class="section-title">üéØ The Instinct Radar<span class="checkmark">‚úì</span></h2>
            <p style="text-align: center; font-size: 1.1em; margin-bottom: 30px; color: #7f8c8d;">
                Your technical intuition is data. What does it tell you?
            </p>

            <div class="instinct-radar" id="instinctRadar">
                <div class="radar-line"></div>
                <div class="radar-line"></div>
                <div class="radar-line"></div>
                <div class="radar-line"></div>
                <div class="radar-center"></div>
            </div>

            <button onclick="analyseInstincts()" style="display: block; margin: 20px auto; padding: 10px 20px; background: #8b5cf6; color: white; border: none; border-radius: 5px; cursor: pointer;">Analyse My Instincts</button>

            <div class="visual-exercise instinct-radar-grid">
                <div class="evidence-box radar-question-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">‚ö°</span>
                    </div>
                    <h3>When You Knew Before the Logs Told You</h3>
                    <textarea placeholder="Describe a time you sensed a system problem before you had the data to prove it. What tipped you off? How quickly did you know?"></textarea>
                </div>
                <div class="evidence-box radar-question-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">‚ùì</span>
                    </div>
                    <h3>The Questions Only You Ask</h3>
                    <textarea placeholder="What questions do you ask about a system or architecture that others don't think to ask? What do you probe that gets overlooked?"></textarea>
                </div>
                <div class="evidence-box radar-question-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">üîç</span>
                    </div>
                    <h3>What You Notice First</h3>
                    <textarea placeholder="What do you notice about systems, code, or architectures that others seem to miss completely? What patterns jump out at you?"></textarea>
                </div>
            </div>
        </div>

        <div class="section" data-section-number="3">
            <h2 class="section-title">‚ö° The Effortless Ability<span class="checkmark">‚úì</span></h2>
            <p style="text-align: center; font-size: 1.1em; margin-bottom: 40px; color: #64748b; max-width: 800px; margin-left: auto; margin-right: auto; line-height: 1.6;">
                The technical skills that feel effortless to you are often your most valuable abilities
            </p>
            <div class="visual-exercise effortless-ability-grid">
                <div class="evidence-box easy-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">üí´</span>
                    </div>
                    <h3>What Feels Easy to You</h3>
                    <textarea placeholder="What part of your technical work feels so natural you almost don't count it as a skill? What do you do without thinking that others find hard?"></textarea>
                </div>
                <div class="evidence-box ofcourse-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">üí°</span>
                    </div>
                    <h3>The "Of Course" Moments</h3>
                    <textarea placeholder="What solutions or fixes do you suggest that make people say 'of course!' ‚Äî but they couldn't see it before? What seems obvious to you that isn't to others?"></textarea>
                </div>
            </div>
        </div>

        <div class="section" data-section-number="4">
            <h2 class="section-title">üîÑ The Transformation Mirror<span class="checkmark">‚úì</span></h2>
            <p style="text-align: center; font-size: 1.1em; margin-bottom: 30px; color: #7f8c8d;">
                Think of a system, process, or team that changed significantly through your work
            </p>

            <div class="transformation-flow">
                <div class="transform-box before-box">
                    <h3>Before</h3>
                    <textarea class="mirror-textarea" placeholder="What was the system/process like before? What was broken, slow, unreliable, or frustrating?"></textarea>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="transform-box after-box">
                    <h3>After</h3>
                    <textarea class="mirror-textarea" placeholder="What's it like now? What's different? What works that didn't before? What do people no longer worry about?"></textarea>
                </div>
            </div>

            <div class="evidence-box" style="margin-top: 30px;">
                <h3>The Unlock Moment</h3>
                <textarea id="unlockMoment" placeholder="When do breakthroughs happen in your technical work? What do you do right before the 'aha' moment? Describe finding the root cause or the elegant solution."></textarea>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button id="aiUnlockBtn" style="
                    background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
                    color: white;
                    border: none;
                    padding: 15px 40px;
                    font-size: 1.1em;
                    border-radius: 25px;
                    cursor: pointer;
                    box-shadow: 0 4px 15px rgba(155, 89, 182, 0.3);
                    transition: all 0.3s ease;
                    font-weight: 600;
                ">üîì Reveal My Technical Unlock Pattern</button>
                <p style="color: #64748b; font-size: 0.9em; margin-top: 10px;">
                    Claude AI will analyse your transformation stories
                </p>
            </div>

            <div id="aiUnlockInsights" style="
                background: linear-gradient(135deg, rgba(155, 89, 182, 0.1), rgba(142, 68, 173, 0.1));
                border-radius: 20px;
                padding: 30px;
                margin: 20px 0;
                display: none;
                border-left: 5px solid #9b59b6;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            ">
                <h3 style="color: #9b59b6; margin-bottom: 20px; font-size: 1.5em;">
                    üîì Your Technical Unlock Pattern
                </h3>
                <div id="aiUnlockAnalysis" style="
                    color: #1e293b;
                    line-height: 1.8;
                    font-size: 1.05em;
                "></div>
            </div>
        </div>

        <div class="section" data-section-number="5">
            <h2 class="section-title">üß≤ What Finds You<span class="checkmark">‚úì</span></h2>
            <p style="text-align: center; font-size: 1.1em; margin-bottom: 40px; color: #64748b; max-width: 800px; margin-left: auto; margin-right: auto; line-height: 1.6;">
                The problems and people that naturally gravitate towards you reveal your unique value
            </p>
            <div class="visual-exercise what-finds-you-grid">
                <div class="evidence-box magnet-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">üß≤</span>
                    </div>
                    <h3>The Problem Magnet</h3>
                    <textarea placeholder="What types of problems do colleagues bring to you, even when it's not your job? What do people assume you can fix? What issues seem to land on your desk?"></textarea>
                </div>
                <div class="evidence-box perception-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 3em;">üëÅÔ∏è</span>
                    </div>
                    <h3>How Others See You</h3>
                    <textarea placeholder="When colleagues recommend you for something, what words do they use? What situations make them think 'Peter would know'?"></textarea>
                </div>
            </div>

            <!-- AI and Future Focus -->
            <div class="evidence-box" style="margin-top: 30px; background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%); color: white;">
                <div style="text-align: center; margin-bottom: 20px;">
                    <span style="font-size: 3em;">ü§ñ</span>
                </div>
                <h3 style="color: white;">AI & Your Future</h3>
                <textarea style="background: rgba(255,255,255,0.95); color: #1e293b;" placeholder="How do you see AI fitting into your role? What parts of your work could be augmented by AI? What uniquely human skills will become more valuable as AI handles the routine stuff?"></textarea>
            </div>
        </div>

        <div class="section">
            <div class="recognition-summary">
                <h2 style="text-align: center; margin-bottom: 30px;">‚ú® The Recognition Summary</h2>

                <div class="summary-item">
                    <strong>Your name:</strong>
                    <input type="text" placeholder="Peter Morgan" id="clientName" value="Peter Morgan">
                </div>

                <div class="summary-item">
                    <strong>The technical ability I've been underestimating:</strong>
                    <input type="text" placeholder="What skill have you been treating as smaller than it is?">
                </div>

                <div class="summary-item">
                    <strong>The pattern I now see:</strong>
                    <input type="text" placeholder="What thread runs through all your best technical work?">
                </div>

                <div class="summary-item">
                    <strong>The transformation I enable:</strong>
                    <input type="text" placeholder="What consistent change do you create in systems/teams?">
                </div>

                <div class="summary-item">
                    <strong>The measurable impact I've created:</strong>
                    <input type="text" placeholder="What's the business value you've delivered? (time saved, problems prevented, money saved, efficiency gained)">
                </div>

                <div class="summary-item">
                    <strong>What I deserve to be recognised for:</strong>
                    <input type="text" placeholder="What contribution has gone unnoticed that should be on the record?">
                </div>

                <div class="summary-item">
                    <strong>Where AI fits in my future:</strong>
                    <input type="text" placeholder="How will you leverage AI to amplify your unique abilities?">
                </div>

                <div class="summary-item">
                    <strong>The permission I'm giving myself:</strong>
                    <input type="text" placeholder="What are you now willing to claim about what you can do?">
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button id="saveToSheets" style="
                        background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
                        color: white;
                        border: none;
                        padding: 16px 32px;
                        font-size: 1.1em;
                        font-weight: 600;
                        border-radius: 12px;
                        cursor: pointer;
                        margin: 0 10px;
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                        box-shadow: 0 4px 6px -1px rgba(124, 58, 237, 0.3);
                    " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 15px -3px rgba(124, 58, 237, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px -1px rgba(124, 58, 237, 0.3)'">Submit Answers</button>

                    <button id="saveResults" style="
                        background: rgba(255,255,255,0.2);
                        color: white;
                        border: 2px solid rgba(255,255,255,0.5);
                        padding: 15px 30px;
                        font-size: 1.1em;
                        border-radius: 10px;
                        cursor: pointer;
                        margin: 0 10px;
                        transition: all 0.3s ease;
                    ">Save My Progress</button>
                </div>
            </div>
        </div>

        <div class="final-message">
            The goal isn't to become someone new.<br>
            It's to recognise who you already are ‚Äî<br>
            to see the value you've been underestimating,<br>
            and ensure others see it too.
        </div>
    </div>

    <script>
        // Auto-save functionality
        const STORAGE_KEY = 'peter_morgan_discovery';

        function saveProgress() {
            const data = {};
            document.querySelectorAll('textarea, input[type="text"]').forEach((el, index) => {
                data[`field_${index}`] = el.value;
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            console.log('‚úÖ Progress saved');
        }

        function loadProgress() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const data = JSON.parse(saved);
                document.querySelectorAll('textarea, input[type="text"]').forEach((el, index) => {
                    if (data[`field_${index}`]) {
                        el.value = data[`field_${index}`];
                    }
                });
                console.log('‚úÖ Progress loaded');
                updateProgressDots();
            }
        }

        // Load on page load
        loadProgress();

        // Auto-save on input
        document.querySelectorAll('textarea, input[type="text"]').forEach(el => {
            el.addEventListener('input', () => {
                saveProgress();
                updateProgressDots();
            });
        });

        // Save button
        document.getElementById('saveResults').addEventListener('click', () => {
            saveProgress();
            alert('‚úÖ Progress saved! You can close this page and come back later.');
        });

        // Progress tracking
        function updateProgressDots() {
            const sections = document.querySelectorAll('[data-section-number]');
            let completedCount = 0;

            sections.forEach(section => {
                const textareas = section.querySelectorAll('textarea');
                const filledCount = Array.from(textareas).filter(t => t.value.trim().length > 20).length;
                const sectionNum = section.getAttribute('data-section-number');
                const dot = document.querySelector(`.progress-dot[data-section="${sectionNum}"]`);
                const checkmark = section.querySelector('.checkmark');

                if (filledCount >= textareas.length * 0.5) {
                    dot.style.background = '#8b5cf6';
                    if (checkmark) checkmark.classList.add('visible');
                    completedCount++;
                } else if (filledCount > 0) {
                    dot.style.background = '#c4b5fd';
                    if (checkmark) checkmark.classList.remove('visible');
                } else {
                    dot.style.background = '#cbd5e1';
                    if (checkmark) checkmark.classList.remove('visible');
                }
            });

            document.getElementById('progressText').textContent = `${completedCount} of 5 sections completed`;
        }

        // Evidence box interactions
        document.querySelectorAll('.evidence-box').forEach(box => {
            box.addEventListener('click', function() {
                this.style.borderColor = '#8b5cf6';
                const textarea = this.querySelector('textarea');
                if (textarea) textarea.focus();
            });
        });

        // Instinct Radar Analysis
        function analyseInstincts() {
            const radar = document.getElementById('instinctRadar');
            const intuition = document.querySelector('textarea[placeholder*="sensed a system problem"]')?.value || '';
            const questions = document.querySelector('textarea[placeholder*="questions do you ask"]')?.value || '';
            const noticing = document.querySelector('textarea[placeholder*="notice about systems"]')?.value || '';

            radar.querySelectorAll('.instinct-point, .instinct-label').forEach(el => el.remove());

            const insights = [];

            if (intuition.toLowerCase().includes('quick') || intuition.toLowerCase().includes('immediate') || intuition.toLowerCase().includes('before')) {
                insights.push({ label: 'Early Warning Instinct', angle: 45, distance: 80 });
            }

            if (intuition.toLowerCase().includes('pattern') || intuition.toLowerCase().includes('behaviour') || intuition.toLowerCase().includes('unusual')) {
                insights.push({ label: 'Pattern Recognition', angle: 135, distance: 90 });
            }

            if (questions.toLowerCase().includes('why') || questions.toLowerCase().includes('root') || questions.toLowerCase().includes('cause')) {
                insights.push({ label: 'Root Cause Thinking', angle: 225, distance: 85 });
            }

            if (noticing.toLowerCase().includes('architecture') || noticing.toLowerCase().includes('design') || noticing.toLowerCase().includes('structure')) {
                insights.push({ label: 'Systems Thinking', angle: 315, distance: 75 });
            }

            insights.forEach(insight => {
                const point = document.createElement('div');
                point.className = 'instinct-point';
                const radians = (insight.angle * Math.PI) / 180;
                const x = 150 + insight.distance * Math.cos(radians);
                const y = 150 + insight.distance * Math.sin(radians);
                point.style.left = x + 'px';
                point.style.top = y + 'px';
                radar.appendChild(point);

                const label = document.createElement('div');
                label.className = 'instinct-label';
                label.textContent = insight.label;
                label.style.left = (x + 15) + 'px';
                label.style.top = (y - 10) + 'px';
                label.style.opacity = '1';
                radar.appendChild(label);
            });

            if (insights.length === 0) {
                alert('Add more detail to your responses to reveal your instinct patterns!');
            }
        }

        // Submit to PostgreSQL
        document.getElementById('saveToSheets').addEventListener('click', async function() {
            const btn = this;
            btn.disabled = true;
            btn.textContent = 'Submitting...';

            // Collect all responses
            const responses = {};
            document.querySelectorAll('textarea').forEach((ta, i) => {
                const label = ta.closest('.evidence-box, .summary-item')?.querySelector('h3, strong')?.textContent || `Question ${i+1}`;
                responses[label] = ta.value;
            });
            document.querySelectorAll('.summary-item input').forEach(input => {
                const label = input.closest('.summary-item')?.querySelector('strong')?.textContent || 'Field';
                responses[label] = input.value;
            });

            try {
                const response = await fetch('https://stingray-app-7kg9p.ondigitalocean.app/api/questionnaire', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        client_email: 'pete_morgan69@hotmail.com',
                        client_name: 'Peter Morgan',
                        responses: responses,
                        questionnaire_type: 'technical_discovery',
                        submitted_at: new Date().toISOString()
                    })
                });

                if (response.ok) {
                    btn.textContent = '‚úì Submitted!';
                    btn.style.background = '#10b981';
                    alert('‚úÖ Your responses have been submitted to Lisa. She will review them before your next session.');
                } else {
                    throw new Error('Submit failed');
                }
            } catch (error) {
                console.error('Submit error:', error);
                // Save locally as backup
                saveProgress();
                btn.textContent = '‚úì Saved Locally';
                btn.style.background = '#f59e0b';
                alert('Responses saved locally. Lisa will collect them in your next session.');
            }
        });

        // Initial progress check
        updateProgressDots();
    </script>
</body>
</html>
